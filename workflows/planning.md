# Planning

## 목적

AI 코드 생성 전에 요구사항을 명확히 정의하여 코드 품질 향상

## 체크리스트

작업 시작 전 다음을 명확히 정의:

### 1. 기능 개요

```markdown
## 기능명: [기능 이름]

**목표**: 이 기능이 달성하는 것은?

- 예: "사용자가 검색 조건으로 상품을 필터링할 수 있다"

**배경**: 왜 필요한가?

- 예: "현재 전체 목록만 보여져서 사용자 경험이 떨어짐"
```

### 2. 입출력 정의

```markdown
**입력값**:

- 파라미터 이름: 타입, 설명, 범위/제약
- 예: `searchQuery: string, maxResults: number (1-100)`

**출력값**:

- 반환값: 타입, 구조
- 예: `{ items: Item[], total: number, hasMore: boolean }`
```

### 3. 핵심 로직

```markdown
**처리 흐름**:

1. [단계 1]
2. [단계 2]
3. [단계 3]

**예외/엣지 케이스**:

- 빈 검색 결과 → []
- 인터넷 연결 끊김 → 캐시된 데이터 반환
- 중복 요청 → debounce 처리
```

### 4. 테스트 케이스

```markdown
**Happy Path**:

- [ ] 정상 입력값 → 정상 출력

**Edge Cases**:

- [ ] 빈 값 입력
- [ ] 경계값 (maxResults = 0, 100, 101)
- [ ] 특수문자 포함
- [ ] 초대형 데이터

**Error Cases**:

- [ ] 네트워크 오류
- [ ] 타임아웃
- [ ] 잘못된 형식
```

### 5. 제약사항

```markdown
**성능**:

- 응답 시간: 1초 이내
- 메모리: 50MB 이하

**보안**:

- SQL Injection 방지 필수
- 민감 정보 로깅 금지

**호환성**:

- Node.js 22 LTS 이상
- 모던 브라우저 지원 (IE 제외)
```

### 6. 의존성

```markdown
**내부 의존**:

- Database 스키마
- 기존 유틸리티 함수

**외부 의존**:

- API 호출 대상
- 라이브러리 버전
```

---

## 예시: Terraform

```markdown
## 기능명: AWS RDS 데이터베이스 생성

**목표**: IaC로 RDS 인스턴스를 자동 프로비저닝

**입력값**:

- `instance_class: string` (db.t3.micro, db.t3.small)
- `allocated_storage: number` (20-1000 GB)
- `engine_version: string` (13, 14, 15)

**출력값**:

- `endpoint: string` (호스트명)
- `port: number` (기본 5432)
- `security_group_id: string`

**처리 흐름**:

1. VPC 내 서브넷 그룹 생성
2. RDS 인스턴스 생성
3. 보안 그룹 설정 (포트 5432 허용)
4. 파라미터 그룹 설정

**테스트 케이스**:

- [ ] 기본값으로 생성 성공
- [ ] 커스텀 값으로 생성 성공
- [ ] 잘못된 instance_class → 오류
- [ ] 스토리지 범위 초과 → 오류

**제약사항**:

- Multi-AZ 비활성화 (개발 환경)
- 백업 retention: 7일
- 자동 마이너 버전 업그레이드 활성화
```

---

## DevOps 특화

### IaC 기획 포인트

**리소스 관계 명확히**:

```
VPC
  └── Subnet Group
        └── RDS Instance
              └── Security Group
```

**변수화 영역**:

- 환경별 차이 (dev, staging, prod)
- 선택 사항 (optional 리소스)
- 반복 패턴 (여러 인스턴스 생성)

**모듈화 가능성**:

- 독립적으로 재사용 가능한가?
- 다른 프로젝트에서도 쓸 수 있는가?

---

## 품질 체크

기획 완료 전 확인:

- [ ] 입출력이 완벽하게 명확한가?
- [ ] 테스트 케이스가 3개 이상인가?
- [ ] 엣지 케이스를 생각해봤는가?
- [ ] 성능/보안 제약사항은?
- [ ] "이것만으로 AI가 코드 짤 수 있을까?"

마지막 질문이 "네"라면 기획 완료.

---

## 다음 단계

기획 완료 → workflow의 2단계 "테스트 작성"으로 진행
