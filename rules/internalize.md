# 내재화 규칙

## 목적

AI가 생성한 코드를 자신의 역량으로 만들기 위한 체계적 학습 프로세스

## 내재화란?

**코드를 "아는 것"과 "이해하는 것"의 차이:**

```
그냥 아는 상태:
"이 코드가 뭐 하는 건지 알아요" → 설명 못함

내재화된 상태:
"이 코드가 왜 이렇게 동작하고,
 언제 쓰고, 어떻게 수정할 수 있는지" 알 수 있음
```

---

## 퀴즈 방식: 2단계 프로세스

### 단계 1: 주요 포인트 퀴즈

**목적**: 핵심만 파악하기

Claude가 던지는 질문에 답하기:

- **입출력**: "이 함수의 입력과 출력이 뭐야?"
- **흐름**: "여기서 뭐가 일어나?"
- **조건**: "왜 이 조건문이 필요해?"
- **호출부**: "이 함수가 몇 개 호출되고 어디서?"

**특징:**

- 짧고 명확한 질문
- "무엇"에 집중 (상세 내용 아직 X)
- 답하다 보면 자연스럽게 이해됨

### 단계 2: 전체 포인트 해설

**목적**: 완전한 이해로 다지기

Claude의 상세 해설:

- 입력 → 처리 → 출력 전체 흐름 설명
- 디버거로 변수 값 추적하며 확인
- 호출부 3개 따라가며 실제 사용 패턴 이해

**특징:**

- 퀴즈의 정답 + 추가 맥락
- "왜"에 대한 설명 포함
- 실습(디버거)과 함께 진행

---

## 실제 예시: Terraform 코드

### 상황

```hcl
resource "aws_rds_db_instance" "main" {
  identifier           = var.db_identifier
  allocated_storage   = var.allocated_storage
  engine              = "postgres"
  instance_class      = var.instance_class
  username            = var.db_username
  password            = random_password.db_password.result

  skip_final_snapshot = true

  tags = {
    Environment = var.environment
  }
}

resource "random_password" "db_password" {
  length  = 16
  special = true
}
```

### 퀴즈 방식 대화

**Claude**: "이 코드가 전체적으로 뭐를 하는 거 같아?"

**너**: "아 AWS RDS 데이터베이스를 만드는 거네요"

**Claude**: "맞아! 그럼 `random_password.db_password.result`가 뭘 하는 거야?"

**너**: "어... 뭐 뭔가 random을 쓰는 건데..."

**Claude**: "좋은 질문이야. 이게 RDS의 비밀번호를 자동 생성하는 거야. 왜 이렇게 할까?"

**너**: "아, 사람이 수동으로 비밀번호를 정하면 보안 위험이니까, 자동으로 생성하는 거네!"

**Claude**: "정확해! 그럼 이 비밀번호는 어디에 저장돼?"

**너**: "음... Terraform state 파일?"

**Claude**: "좋아! 그래서 실무에선 이 state 파일을 원격으로(S3) 관리하고, 접근을 제한해. 왜 그럴까?"

**너**: "아 비밀번호가 평문으로 저장되니까 누가 접근하면 위험하니까!"

---

## DevOps/인프라 특화 내재화

### IaC 코드의 특수성

**일반 애플리케이션 코드:**

```
입력 → 복잡한 로직 → 출력
(로직 이해가 핵심)
```

**IaC 코드 (Terraform, Helm):**

```
선언 → 리소스 생성 → 상태 관리
(리소스 관계와 의존성이 핵심)
```

### 퀴즈 방식 적용

**리소스 관계 파악:**

- "이 리소스가 어디에 의존해?"
- "이 변수가 몇 군데에서 쓰여?"
- "순서가 중요한 리소스는?"

**실제 동작 추적:**

```bash
terraform plan  # 뭐가 생성/수정/삭제되는지 보기
terraform apply # 실제 동작 확인
```

디버거 대신 `terraform plan`과 AWS 콘솔을 보며 이해

---

## 내재화 체크리스트

### 퀴즈 단계 후

- [ ] "입력/출력이 뭔지" 설명 가능한가?
- [ ] "중간에 뭐가 일어나는지" 설명 가능한가?
- [ ] "왜 이 조건이 필요한지" 설명 가능한가?

### 해설 단계 후

- [ ] 디버거/plan으로 전체 흐름을 봤는가?
- [ ] 호출부(또는 의존 리소스) 3개를 따라갔는가?
- [ ] "이 코드를 비슷하게 다른 곳에 쓸 수 있을까?" 생각해봤는가?

### 최종 확인

- [ ] 누군가 "이 코드 설명해봐"라고 하면 바로 설명 가능한가?
- [ ] 관련된 버그가 생기면 원인을 빨리 찾을 것 같은가?
- [ ] 비슷한 패턴을 다음번엔 AI 없이 직접 쓸 수 있을 것 같은가?

마지막 세 개 다 "네"면 내재화 완료.

---

## 자주 하는 실수

### 1. "코드 읽기"만 하기

❌ 파일을 열고 줄 단위로 읽음
✅ 디버거/plan으로 "실제 동작"을 따라가기

### 2. "모든 세부사항" 이해하려 하기

❌ 주석 하나하나까지 이해하려 함
✅ "입력 → 처리 → 출력" 핵심만 파악

### 3. 퀴즈 스킵하고 해설만 듣기

❌ "설명 좀 해줘" → 끝
✅ 스스로 생각해본 후 → 해설 들으며 검증

### 4. 한 번에 "완벽하게" 이해하려 하기

❌ 한 번에 다 이해 못 하면 포기
✅ 1차: 흐름만, 2차: 디테일, 3차: 수정해보기 (여러 번)

---

## 팁: DevOps 코드는 더 빠르다

IaC 코드는 선언적이라:

- 코드 양이 적음
- 로직이 복잡하지 않음
- 결과(AWS 콘솔)가 바로 보임

→ 일반 애플리케이션 코드보다 내재화가 빠름

---

## 예상 소요 시간

| 단계          | 시간        | 주요 작업             |
| ------------- | ----------- | --------------------- |
| 퀴즈          | 5~10분      | Claude 질문에 답하기  |
| 해설 + 디버거 | 5~10분      | 흐름 확인 + 변수 추적 |
| 호출부 확인   | 3~5분       | 3개 호출부 따라가기   |
| **총**        | **15~25분** |                       |

비교: 그냥 "이 코드를 설명해줘"는 30분 이상 걸리는데도 이해도 낮음.

---

## 다음 단계

내재화 완료 → workflow의 "커밋/푸시" 진행
